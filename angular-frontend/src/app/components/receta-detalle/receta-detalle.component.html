<app-navbar></app-navbar>
<div class="receta-detalle-container">
  <div *ngIf="recetaService.error" class="mensaje-error">
    {{ recetaService.error }}
  </div>
  <div class="receta-detalle" *ngIf="recetaService.receta && !recetaService.loading">
    <div class="receta-cabecera">
      <div class="receta-imagen-contenedor">
        <img [src]="recetaService.receta.foto" 
             [alt]="recetaService.receta.titulo"
             class="receta-imagen">
      </div>
      <div class="receta-titulo-contenedor">
        <h1 class="titulo-principal">{{ recetaService.receta.titulo }}</h1>
        <p class="receta-autor" *ngIf="recetaService.receta.usuario">
          Por {{ recetaService.receta.usuario.nombre }} {{ recetaService.receta.usuario.apellidos }}
        </p>
      </div>
    </div>
    <div class="receta-seccion">
      <h2 class="titulo-seccion">Descripción</h2>
      <p class="receta-descripcion">{{ recetaService.receta.descripcion }}</p>
    </div>
    <div class="receta-contenido">
      <div class="receta-seccion seccion-ingredientes">
        <h2 class="titulo-seccion">Ingredientes</h2>
        <ul class="lista-ingredientes">
          <li *ngFor="let ingrediente of convertirALista(recetaService.receta.ingredientes)">
            {{ ingrediente }}
          </li>
        </ul>
      </div>
      <div class="receta-seccion seccion-pasos">
        <h2 class="titulo-seccion">Preparación</h2>
        <ol class="lista-pasos">
          <li *ngFor="let paso of convertirALista(recetaService.receta.pasos)">
            {{ paso }}
          </li>
        </ol>
      </div>
    </div>
    <div class="contenedor-boton">
      <button class="btn-volver" (click)="volver()">
        VOLVER A LAS RECETAS
      </button>
    </div>
  </div>
  <ng-container *ngIf="recetaService.receta?.idRec">
    <div class="seccion-comentarios">
      <app-comentarios [idReceta]="recetaService.receta!.idRec"></app-comentarios>
    </div>
  </ng-container>
</div> 